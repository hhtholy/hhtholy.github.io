---

layout: post
title: Svn的学习
categories: Blog
description: svn归纳笔记
keywords: svn,java
---



## Foreword

> 百科一下

SVN是Subversion的简称，是一个开放源代码的版本控制系统，相较于RCS、CVS，它采用了分支管理系统，它的设计目标就是取代CVS。互联网上很多版本控制服务已从CVS迁移到Subversion。说得简单一点SVN就是用于多个人共同开发同一个项目，共用资源的目的。


## bad effect

> 项目管理中的版本控制问题

  通常软件开发由多人进行协作，如果对代码文件，配置文件，文档等没有进行版本控制，就会出现一系列的问题：
 1、 备份多个版本，占用磁盘空间大
 2、 解决代码冲突困难
 3、 容易引发程序bug
 4、 追溯问题的代码“问题者”的时间及身份难于确认
 5、 难恢复到正常版本
 6、 权限控制 （根据svn的情况）
 7、 项目版本发布困难 开发混乱

## question
>什么是版本控制
官方说法：维护工程蓝图的标准做法，能追踪到工厂蓝图从诞生到一致定案的过程，是一种记录若干文件变化，以便俩查阅特定版本修改情况的系统。

 高大上的词，其实说白了就是两点。一：记录。二：同步。

<b style="color: red">记录</b>：
 比如说今天你开发一个User类（甭管隶属于哪个文件夹，版本控制是向上关联的）,咔咔咔一顿写，下班后提交了，那么今天的提交就是一个版本，明天来的时候你突然心血来潮感觉User类的代码不太合适，你修改后，再次提交，那么此时另外一个版本，也就是版本的更新。这些版本，是有区别的，svn会记录，每一个区别点。

<b style="color: red">同步</b>：
       其实就是记录的功能上进一步提升。比如说你和张三都开发User类，你和张三从svn服务器检出下来，张三文思敏捷，先提交了，假定起始的版本是1，那么此时张三提交后版本号就会变为2，不一会，你开发完，一提交,svn报错,"you have to update your working copy first",你提交失败。这就是版本冲突的体现了，你，目前本机上User类的版本是1，但是svn服务器版本已经是2了，你和svn服务器不同步，你只需要在每次提交代码前执行 Svn Update即可，当然你不执行也可以，提交失败后，细心的svn会提示到"Updated Needed"，同时你会发现同级下还会多出三个文件，后缀是,mine,.r3(例如),.r4（例如）,字母r后面的数字是版本号，服务器上目前的版本，前一个版本，和你自己写的版本，所以你只需要进行合并后提交即可。 张三下次需要修改代码时，只要执行Update就能检出你修改后的代码了，这也就实现了同步。

形如：<img src="/images/blog/javaEE/svn_conflict.png" width="80%" height="40%" border="black" alt="检索sql语句" />


待合并的代码形如：

```js


 class Test
{  private String name;
<<<<<<< .mine  

private Date d;    是你在冲突区里面做的修改。
||||||| .r11  
======= 
  private Integer i;   别人在冲突区中做的修改
>>>>>>> .r12  
}


```



## good effect 
> 好处相信你心中已经有了答案~  其实就是开头的反义词呗~~


## branch trunk tags
>区别
1、branches下用于存放“分支”，比如用于测试的分支、用于不同版本开发的分支、用于缺陷处理的分支等等，“分支”下存放的内容是会继续修改的；
2、tags下用于存放“标记”，比如某个发布版本的标记，“标记”下存放的内容通常来说是固定不变的。

<b>比如：</b>开发进行到1.0版本测试完成，要进行对外软件发布了，同时项目组后续会拆分成两个小组，一个小组负责1.0版本的BUG维护，另一个小组开始在1.0基础上进行2.0版本的开发。此时，就可以把当前版本从trunk拉到tags下一份，标记为release1_0，然后对外发布时就从这个文件夹获取；然后再把当前版本拉到branches下一份，
标记为bugfix1_0，负责1.0版维护的小组以后就在这个文件夹下进行修复工作，
负责2.0版开发的小组继续在trunk下工作






